@use 'sass:map';
@use 'sass:math';
@use 'sass:list';
@use 'sass:color';
@use './lib/config';
@use './lib/utils';

#{config.$root} {
  @each $name, $value in map.get(config.$paletteCore, 'light') {
    @include utils.declareColor($name, $value);
  }

  @if config.$useDisplayP3 {
    @include utils.mediaDisplayP3() {
      @each $name, $value in map.get(config.$paletteCore, 'light') {
        --ink-#{$name}: #{utils.convertColorDisplayP3($value)};
      }
    }
  }

  @if config.$useDarkMode {
    @include utils.mediaDarkMode() {
      @each $name, $value in map.get(config.$paletteCore, 'dark') {
        --ink-#{$name}: #{$value};
      }

      @if config.$useDisplayP3 {
        @include utils.mediaDisplayP3() {
          @each $colorName, $colorValue in map.get(config.$paletteCore, 'dark') {
            --ink-#{$colorName}: #{utils.convertColorDisplayP3($colorValue)};
          }
        }
      }
    }
  }
}
